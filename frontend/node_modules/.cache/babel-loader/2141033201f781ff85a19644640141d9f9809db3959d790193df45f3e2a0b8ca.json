{"ast":null,"code":"import React,{useEffect,useState}from'react';import API from'../api';import'../Styles.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ManageUsers(){const[users,setUsers]=useState([]);useEffect(()=>{API.get('users/').then(res=>setUsers(res.data)).catch(err=>console.error(\"Failed to fetch users\",err));},[]);const currentUserId=localStorage.getItem('user_id');// assuming it's stored at login\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage user accounts below\"})]}),users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"room-card\",style:{maxWidth:'600px',margin:'10px auto'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:user.username}),user.email&&\" - \".concat(user.email)]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"a\",{href:\"/admin/edit-user/\".concat(user.id),className:\"btn btn-yellow\",children:\"Edit\"}),' ',user.id!==parseInt(currentUserId)&&/*#__PURE__*/_jsx(\"a\",{href:\"/admin/delete-user/\".concat(user.id),className:\"btn btn-green\",children:\"Delete\"})]})]},user.id)),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'30px'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/admin/dashboard\",className:\"btn btn-yellow\",children:\"Back to Dashboard\"})})]});}export default ManageUsers;","map":{"version":3,"names":["React","useEffect","useState","API","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ManageUsers","users","setUsers","get","then","res","data","catch","err","console","error","currentUserId","localStorage","getItem","children","map","user","className","style","maxWidth","margin","username","email","concat","marginTop","href","id","parseInt","textAlign"],"sources":["/Users/himani.walia/Documents/Sem1 2025/WebApplication/Project2CR/frontend/src/components/ManageUsers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport '../Styles.css';\n\nfunction ManageUsers() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    API.get('users/')\n      .then(res => setUsers(res.data))\n      .catch(err => console.error(\"Failed to fetch users\", err));\n  }, []);\n\n  const currentUserId = localStorage.getItem('user_id'); // assuming it's stored at login\n\n  return (\n    <>\n      <header>\n        <h1>Users</h1>\n        <p>Manage user accounts below</p>\n      </header>\n\n      {users.map(user => (\n        <div className=\"room-card\" key={user.id} style={{ maxWidth: '600px', margin: '10px auto' }}>\n          <span>\n            <strong>{user.username}</strong>{user.email && ` - ${user.email}`}\n          </span>\n          <div style={{ marginTop: '10px' }}>\n            <a href={`/admin/edit-user/${user.id}`} className=\"btn btn-yellow\">Edit</a>{' '}\n            {user.id !== parseInt(currentUserId) && (\n              <a href={`/admin/delete-user/${user.id}`} className=\"btn btn-green\">Delete</a>\n            )}\n          </div>\n        </div>\n      ))}\n\n      <div style={{ textAlign: 'center', marginTop: '30px' }}>\n        <a href=\"/admin/dashboard\" className=\"btn btn-yellow\">Back to Dashboard</a>\n      </div>\n    </>\n  );\n}\n\nexport default ManageUsers;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,QAAQ,CACxB,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEvB,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACdE,GAAG,CAACU,GAAG,CAAC,QAAQ,CAAC,CACdC,IAAI,CAACC,GAAG,EAAIH,QAAQ,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC,CAC/BC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEF,GAAG,CAAC,CAAC,CAC9D,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,aAAa,CAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAE;AAEvD,mBACEhB,KAAA,CAAAE,SAAA,EAAAe,QAAA,eACEjB,KAAA,WAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdnB,IAAA,MAAAmB,QAAA,CAAG,4BAA0B,CAAG,CAAC,EAC3B,CAAC,CAERb,KAAK,CAACc,GAAG,CAACC,IAAI,eACbnB,KAAA,QAAKoB,SAAS,CAAC,WAAW,CAAeC,KAAK,CAAE,CAAEC,QAAQ,CAAE,OAAO,CAAEC,MAAM,CAAE,WAAY,CAAE,CAAAN,QAAA,eACzFjB,KAAA,SAAAiB,QAAA,eACEnB,IAAA,WAAAmB,QAAA,CAASE,IAAI,CAACK,QAAQ,CAAS,CAAC,CAACL,IAAI,CAACM,KAAK,QAAAC,MAAA,CAAUP,IAAI,CAACM,KAAK,CAAE,EAC7D,CAAC,cACPzB,KAAA,QAAKqB,KAAK,CAAE,CAAEM,SAAS,CAAE,MAAO,CAAE,CAAAV,QAAA,eAChCnB,IAAA,MAAG8B,IAAI,qBAAAF,MAAA,CAAsBP,IAAI,CAACU,EAAE,CAAG,CAACT,SAAS,CAAC,gBAAgB,CAAAH,QAAA,CAAC,MAAI,CAAG,CAAC,CAAC,GAAG,CAC9EE,IAAI,CAACU,EAAE,GAAKC,QAAQ,CAAChB,aAAa,CAAC,eAClChB,IAAA,MAAG8B,IAAI,uBAAAF,MAAA,CAAwBP,IAAI,CAACU,EAAE,CAAG,CAACT,SAAS,CAAC,eAAe,CAAAH,QAAA,CAAC,QAAM,CAAG,CAC9E,EACE,CAAC,GATwBE,IAAI,CAACU,EAUhC,CACN,CAAC,cAEF/B,IAAA,QAAKuB,KAAK,CAAE,CAAEU,SAAS,CAAE,QAAQ,CAAEJ,SAAS,CAAE,MAAO,CAAE,CAAAV,QAAA,cACrDnB,IAAA,MAAG8B,IAAI,CAAC,kBAAkB,CAACR,SAAS,CAAC,gBAAgB,CAAAH,QAAA,CAAC,mBAAiB,CAAG,CAAC,CACxE,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAAd,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}